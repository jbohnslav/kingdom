---
id: d098
status: open
deps: []
links: []
created: 2026-02-14T14:26:48Z
type: task
priority: 2
---
# Port missing features from original ticket CLI to kd tk

The original bash `ticket` CLI (kept at repo root as `ticket`) has several features that didn't make it into `kd tk`. Port the missing ones.

## Missing Features

**Dependency tools:**
- `dep tree [--full] <id>` — dependency tree visualization (see also e3be)
- `dep cycle` — find dependency cycles in open tickets
- `blocked` — list tickets with unresolved deps (inverse of `ready`)

**Ticket relationships:**
- `link <id> <id> [id...]` — symmetric linking between tickets
- `unlink <id> <target-id>` — remove link
- Parent-child relationships (`--parent` on create, rendered in `show`)
- Tags support (`--tags` on create, `-T` filter on list/ready/blocked)

**Filtering:**
- `list --status=X -a <assignee> -T <tag>` — filter by status/assignee/tag
- `closed [--limit=N]` — list recently closed tickets by mtime

**Editing/notes:**
- `edit <id>` — open ticket in $EDITOR
- `add-note <id> [text]` — append timestamped note (or pipe via stdin)

**Data access:**
- `query [jq-filter]` — output tickets as JSON with optional jq filtering
- `show` enriched view — auto-appends Blockers, Blocking, Children, Linked sections below the ticket content

**Create options:**
- Inline `--description`, `--design`, `--acceptance`, `--parent`, `--tags` flags on `kd tk create`

## Acceptance Criteria

- [ ] `kd tk dep tree <id>` shows dependency tree (with `--full` to disable dedup)
- [ ] `kd tk dep cycle` detects and reports cycles
- [ ] `kd tk blocked` lists tickets with unresolved deps
- [ ] `kd tk link` / `kd tk unlink` for symmetric ticket links
- [ ] `kd tk list` supports `--status`, `--assignee`, `--tag` filters
- [ ] `kd tk closed` lists recently closed tickets
- [ ] `kd tk edit <id>` opens in $EDITOR
- [ ] `kd tk add-note <id> [text]` appends timestamped notes
- [ ] `kd tk query [jq-filter]` outputs JSON
- [ ] `kd tk show` appends Blockers/Blocking/Children/Linked sections
- [ ] `kd tk create` supports `--description`, `--parent`, `--tags`
