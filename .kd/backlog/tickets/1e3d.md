---
id: "1e3d"
status: open
deps: [e756]
links: []
created: 2026-02-14T05:48:21Z
type: task
priority: 2
---
# Auto-commit council thread files to git after all members respond

## Description

After all council members respond to a query, auto-commit the thread files. This runs in the worker process so it works for both sync and async flows. Scoped to the thread directory only — no broad `git add`.

## Acceptance Criteria

- [ ] After all members respond, worker auto-commits thread files (`git add .kd/branches/.../threads/<id>/`)
- [ ] Commit message: `council: <truncated prompt>` (truncate to ~72 chars)
- [ ] Controlled by `council.auto_commit` config key (default: `true`)
- [ ] No commit if there's no diff (idempotent)
- [ ] No interactive prompting — incompatible with async mode
- [ ] Works in both sync (`kd council ask`) and async (`kd council ask --async`) flows
