---
id: 3860
status: open
deps: []
links: []
created: 2026-02-13T22:53:53Z
type: feature
priority: 2
---
# Add JSON config file for system-wide agent and workflow settings

Create a top-level JSON (or TOML) config file that centralizes system configuration. Should cover: which agents are on the council and their model IDs, per-agent permissions/capabilities, custom prompts per workflow phase (ask, design, review) that can vary by model, and any other per-agent or per-phase overrides. Right now this stuff is scattered or hardcoded — having one config file makes it easy to tweak the council composition, swap models, or customize prompts without touching code.

## Implementation Notes (council)

**Key files:** `src/kingdom/state.py`, `src/kingdom/council/council.py`, `src/kingdom/agent.py`, `src/kingdom/cli.py`

**Approach:**
- Define config path: `.kd/config.json` (or `config.toml` — TOML is more human-friendly for a file users will edit)
- Add a `load_config` function in `src/kingdom/state.py`
- Update `Council.create` in `src/kingdom/council/council.py` to read config and override default agent settings
- Make config additive — file is optional, defaults preserved for backward compatibility

**Gotchas:**
- `.kd/config.json` may already exist — check what's in it and whether to extend vs. create a new file
- This is the most invasive ticket — touches agent loading, council, and prompts
- Do c5cb (breakdown) and 101d (read-only) first so config can reference their final shapes
- Per-agent permissions from 101d could later be externalized into this config
