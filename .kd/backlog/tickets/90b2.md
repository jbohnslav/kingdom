---
id: "90b2"
status: open
deps: []
links: []
created: 2026-02-21T17:46:08Z
type: task
priority: 2
---
# Validate --duplicate-of target exists and is not self-referencing

Council review flagged this as medium severity.

`cli.py:3628` writes `ticket.duplicate_of = duplicate_of` directly without resolving the target ticket or preventing `duplicate_of == ticket_id`. This can silently store typos or invalid references in frontmatter.

Resolve `duplicate_of` via `find_ticket`, reject missing/ambiguous/self targets, and store the canonical full ID.

## Acceptance Criteria

- [ ] `--duplicate-of` rejects non-existent ticket IDs with a clear error
- [ ] `--duplicate-of` rejects self-references (closing ticket as duplicate of itself)
- [ ] Stored `duplicate-of` value uses the canonical ticket ID
- [ ] Tests cover invalid ID, self-reference, and valid duplicate scenarios
