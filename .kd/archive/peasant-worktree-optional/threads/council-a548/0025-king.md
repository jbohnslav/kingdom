---
from: king
to: all
timestamp: 2026-02-13T13:59:07Z
---

Review the CLAUDECODE env var stripping approach in the current unstaged changes to cli.py. We strip CLAUDECODE from the subprocess environment in launch_work_background and the council worker Popen call so that child claude processes don't refuse to start when kd is run from inside a Claude Code session. Is this the right fix? Are there other env vars we should strip? Any edge cases or better approaches?
