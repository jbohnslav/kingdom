---
from: king
to: all
timestamp: 2026-02-14T13:25:00Z
---

Follow-up on config design. The King has made these decisions:

1. JSON only, no TOML
2. System prompts are optional per-agent
3. Dataclasses with manual validation — no pydantic dependency
4. Include an extra_params/extra_flags escape hatch (like Aider)
5. Config covers: which CLI backend, models, prompts, timeouts
6. Config does NOT cover: resume flags, CLI invocation details, output parsing — that stays in code per-backend

The open question: should we consolidate everything into a single JSON config file and deprecate .kd/agents/*.md? Or keep agents/*.md for the system prompts (since they can be long/multiline) and have the JSON reference them?

Arguments to consider:
- agents/*.md currently defines council members with their prompts
- JSON is awkward for long multiline text (system prompts)
- But having two config sources is confusing
- A single file is easier to validate, copy between projects, and reason about

What's your recommendation? Give concrete examples of what the config would look like in each approach.
