---
id: 98fe
status: closed
deps: []
links: []
created: 2026-02-14T01:33:43Z
type: task
priority: 2
---
# kd start should initialize design doc and print location

When kd start creates the branch layout, it should also populate design.md with the design template (via build_design_template) instead of leaving it empty. It should print the design doc path so the user knows where to find it. Currently you have to run kd design separately to get the template — this should happen automatically during start.

## Acceptance Criteria

- [x] `kd start` populates design.md with the template from `build_design_template`
- [x] `kd start` prints the design doc path
- [x] `kd design` still works standalone (idempotent / no-op if already populated)

## Implementation Notes (council)

**Key files:** `src/kingdom/cli.py` (start command ~L151-201), `src/kingdom/design.py` (`ensure_design_initialized`)

**Approach:**
- After `ensure_branch_layout()` in `start()`, call `ensure_design_initialized(design_path, feature)` and print the path
- `ensure_design_initialized` already exists and does exactly the right thing — creates template if missing, no-ops if present
- Compute `design_path` from the branch layout and wire it in

**Gotchas:**
- `ensure_branch_layout()` already creates the directory structure, so design.md parent dir will exist
- `design_default()` command should remain working — verify idempotency
- Use the original (non-normalized) branch name as the feature arg to `build_design_template` for readability

## Worklog

- Added `ensure_design_initialized` import and call after `ensure_branch_layout()` in `start()`
- Added `Design: {design_path}` print line
- Uses original branch name (not normalized) for template readability
- `kd design` remains idempotent — verified both `design_default()` and `ensure_design_initialized` handle existing content
- All tests pass (test_cli, test_design, test_init)
