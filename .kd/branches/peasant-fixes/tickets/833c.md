---
id: "833c"
status: open
deps: []
links: []
created: 2026-02-19T17:19:03Z
type: bug
priority: 1
---
# Claude Code Review workflow broken since claude-code-action v1.0.54

## Problem

The `.github/workflows/claude-code-review.yml` auto-review workflow stopped firing on `pull_request` events. PR #25 did not get an automatic Claude review — had to manually tag `@claude`.

## Investigation Findings

- **Last successful auto-review:** Feb 17, 2026 on the `polish` branch (workflow run `22086091776`)
- **`anthropics/claude-code-action@v1` was updated:** `v1.0.53` (Feb 16) → `v1.0.54` (Feb 18)
- **Symptom:** GitHub shows workflow name as raw path (`.github/workflows/claude-code-review.yml`) instead of `Claude Code Review`, indicating YAML parsing failure
- **Failed runs show:** "This run likely failed because of a workflow file issue" — but only on `push` events (expected, since the workflow only defines `on: pull_request`)
- **The `pull_request` event simply never triggers the workflow at all** — 0 runs for `peasant-fixes` branch, while CI workflow fires fine
- **Close/reopen PR did not help** — `reopened` event also failed to trigger it
- **Repo settings are fine:** Actions enabled, workflow state is `active`, `CLAUDE_CODE_OAUTH_TOKEN` secret exists
- **Workflow YAML is identical on master and branch** — no local modifications

## Likely Cause

The `v1.0.54` release of `anthropics/claude-code-action` (which `@v1` now resolves to) likely changed the `action.yml` in a way that causes GitHub's workflow validation to fail at registration time, silently preventing `pull_request` triggers.

Possible breaking changes to check:
- New required inputs not present in our workflow
- Renamed/removed inputs (`plugin_marketplaces`, `plugins`, `claude_args`)
- Changed action metadata structure

## Fix Options

1. **Pin to `v1.0.53`:** `uses: anthropics/claude-code-action@v1.0.53` — quick fix
2. **Check v1.0.54 changelog** and update workflow inputs to match new schema
3. **File upstream issue** at `anthropics/claude-code-action` if this is a regression

## Acceptance Criteria

- [ ] Auto-review workflow triggers on PR creation without manual intervention
- [ ] Pin to working version or update inputs to match latest
