---
from: king
to: all
timestamp: 2026-02-15T14:17:55Z
---

Decision needed: Partial-timeout response detection

  Codex flagged a real issue: when an agent times out but has partial text (e.g., it wrote 500 words before
  the timeout killed it), the current code stores that partial text as the message body — no error marker.
  So council retry treats it as a successful response.

  This happens because AgentResponse.thread_body() returns self.text when text is non-empty, even if there's
   also an error. The intent was text takes priority so you don't lose partial output. But it means retry
  can't distinguish full response from partial response that was cut off by timeout.

  Options:
  1. Prefix partial responses with an error marker — e.g., *Error: Timeout after 600s*\n\n{partial_text}.
  Retry would detect it, but it changes the thread format.
  2. Add metadata to message frontmatter — e.g., error: Timeout after 600s in the YAML. Clean separation
  of error status from body content. Most robust but requires thread format changes.
  3. Leave as-is — partial timeout responses are rare. The auto-retry in query() already handles immediate
  retries. If someone needs to retry after that, they can re-ask.
