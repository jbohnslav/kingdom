---
id: "bb51"
status: open
deps: [b71d]
links: []
created: 2026-02-15T19:46:08Z
type: task
priority: 1
---
# Message widgets: MessagePanel, StreamingPanel, WaitingPanel, ErrorPanel

## Context

Build the Textual widget classes used to render messages in the chat log. Each widget type has a distinct visual style and lifecycle. See design doc TUI Architecture > Rendering.

## Acceptance Criteria

- [ ] `MessagePanel` renders body as Rich Markdown inside a bordered panel with member-specific border color
- [ ] King messages use a distinct style (no border or muted border)
- [ ] `StreamingPanel` shows growing text with `(streaming · N chars)` in panel title and `▍` cursor
- [ ] `StreamingPanel.update_content(text)` method for poll cycle updates
- [ ] `WaitingPanel` shows collapsed panel with `waiting...` in title
- [ ] `ErrorPanel` shows red-bordered panel with error text and `errored`/`timed out` in title
- [ ] Member colors are consistent (assigned by name, deterministic across session)
