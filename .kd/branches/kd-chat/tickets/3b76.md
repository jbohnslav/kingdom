---
id: "3b76"
status: open
deps: [16e1, 213e, 8ea4]
links: []
created: 2026-02-15T19:46:12Z
type: task
priority: 2
---
# Auto-turn round-robin scheduler

## Context

After the initial broadcast round, councillors enter auto-mode: sequential round-robin, one member at a time, up to `council.auto_rounds` rounds. Uses thread history injection for each turn. Respects `/mute`, `@member`, and Escape interrupt.

## Acceptance Criteria

- [ ] After all members respond to a broadcast, auto-mode begins if `auto_rounds > 0`
- [ ] Round-robin order follows `council.members` list order from config
- [ ] Each auto-turn: build prompt via `format_thread_history()`, query one member via `asyncio.to_thread()`
- [ ] Sequential within a round â€” one member at a time, wait for response before next
- [ ] Stops after `auto_rounds` complete rounds (from `council.auto_rounds` config)
- [ ] `/mute`-ed members skipped in round-robin
- [ ] `@member` directed messages don't count as a broadcast round
- [ ] Escape interrupt: kills current generation, stops scheduling further auto-turns
- [ ] User sending a new message during auto-mode: current generation completes, auto-mode pauses, user message processed, auto-mode resumes
- [ ] Errors/timeouts: skip that member for the round, continue with remaining members
- [ ] `council.mode: "sequential"` skips the initial parallel broadcast and goes straight to round-robin
