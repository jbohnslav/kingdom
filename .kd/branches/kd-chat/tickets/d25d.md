---
id: "d25d"
status: open
deps: []
links: []
created: 2026-02-16T00:09:30Z
type: task
priority: 1
---
# auto_scroll is a stub â€” never tracks scroll position, always yanks to bottom

## Context

While multiple agents stream in `kd chat`, the message log always yanks to the bottom.

Real user repro:

1. Start a prompt with 3 agents streaming.
2. First agent is slowest and appears higher in the pane.
3. User scrolls up to watch that slow agent.
4. New output from lower/faster agents forces auto-scroll back to the bottom.
5. User cannot monitor the earlier slow stream until all agents finish.

This makes in-flight comparison and monitoring difficult.

## Expected Behavior

- Auto-scroll should only follow new output while the user is already at (or near) the bottom.
- If the user scrolls up, auto-scroll should pause and preserve their viewport.
- New messages should not steal scroll position while paused.
- User should have an explicit way to jump to bottom and resume follow mode.

## Acceptance Criteria

- [ ] Streaming updates do not yank scroll when user has scrolled away from bottom.
- [ ] Auto-follow remains enabled when user is at bottom (current behavior preserved for passive viewing).
- [ ] Scrolling up disables follow mode until user explicitly returns to bottom (or triggers a resume action).
- [ ] UI shows a clear hint/indicator when follow mode is paused and unseen new output exists.
- [ ] Add tests covering: at-bottom follow, scrolled-up no-follow, and resume-follow behavior.
