---
id: "3642"
status: closed
deps: [16e1]
links: []
created: 2026-02-15T23:02:45Z
type: task
priority: 2
---
# Slash commands: /mute, /unmute, /help, /quit

## Context

Slash commands for session-scoped TUI control. Split from 16e1 (input/dispatch) for independent testability. These are ephemeral UI state — resets when TUI closes.

## Acceptance Criteria

- [x] `/mute <member>` excludes member from future queries (saves tokens, session-scoped)
- [x] `/unmute <member>` re-includes member in queries
- [x] `/help` shows available commands and keybindings
- [x] `/quit` or `/exit` cleanly shuts down (waits for current generation if any)
- [x] Unknown slash commands show error message, don't crash
- [x] Mute list respected by query dispatch (muted members skipped in broadcast)

## Worklog

- Added `self.muted: set[str]` to ChatApp for session-scoped mute tracking.
- `send_message()` intercepts `/` prefix and dispatches to `handle_slash_command()`.
- Commands: `/mute <member>`, `/unmute <member>`, `/mute` (show status), `/help`, `/quit`, `/exit`.
- `/mute` with no arg shows current mute list. Invalid member names show error with available members.
- `parse_targets()` excludes muted members from broadcast and `@all`. Explicit `@member` mention overrides mute (intentional — saves tokens by default but allows targeted queries when needed).
- System messages shown via `show_system_message()` — plain Static with muted styling.
- 11 new tests covering mute/unmute, help, quit/exit, unknown commands, invalid members, mute status. Full suite 765 pass.
