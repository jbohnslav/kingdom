---
id: "b71d"
status: open
deps: []
links: []
created: 2026-02-15T19:46:08Z
type: task
priority: 1
---
# TUI module skeleton and kd chat CLI command

## Context

Create the `kingdom/tui/` package and wire up the `kd chat` CLI command. This is the skeleton that all other TUI tickets build on. Textual is already in `[dependency-groups] chat`.

## Acceptance Criteria

- [ ] `src/kingdom/tui/__init__.py` exists with lazy import guard: if `textual` not importable, raise clear error with `uv sync --group chat` hint
- [ ] `src/kingdom/tui/app.py` exists with minimal `ChatApp(App)` that shows a placeholder screen
- [ ] `src/kingdom/tui/widgets.py` and `src/kingdom/tui/poll.py` exist as stubs
- [ ] `kd chat` CLI command in `cli.py`: resolves thread (current / `--new` / `<thread-id>`), imports from `kingdom.tui`, launches the app
- [ ] `kd chat --new` creates a fresh council thread and opens TUI
- [ ] `kd chat <thread-id>` opens a specific thread
- [ ] `kd chat` with no args uses current thread; if none, lists recent threads to stdout and tells user to run `kd chat <id>` or `kd chat --new` (simple text, not a Textual picker)
- [ ] Running `kd chat` without textual installed shows the install hint, not a traceback
