---
id: "0f27"
status: open
deps: []
links: []
created: 2026-02-16T14:20:02Z
type: task
priority: 2
---
# Fix cross-talk between kd chat and concurrent agent workflows

## Context

When `kd chat` is open while other agent workflows are running (`kd council ask`,
harness/worker runs), member behavior can bleed across contexts ("cross-talk"):
persona/prompt behavior and session continuity can appear inconsistent with the
active chat thread.

Observed in branch `kd-chat` during live dogfooding:
- chat thread stream/debug files showed one Cursor session lineage
- branch session state later pointed to a different Cursor resume/session lineage
- concurrent non-chat flows were active and updating per-agent state

We need explicit context/session isolation so chat conversations do not leak into
or inherit from other agent lanes.

## Acceptance Criteria

- [ ] Reproduce cross-talk with an automated test or deterministic fixture (chat + concurrent non-chat flow)
- [ ] Define and implement session isolation boundaries for chat vs non-chat workflows
- [ ] Ensure chat cannot accidentally inherit/continue council/harness session context
- [ ] Ensure non-chat workflows cannot clobber active chat session context
- [ ] Add regression tests for the isolation rules
- [ ] Document expected isolation behavior and operational debugging steps in worklog/docs

## Worklog

- 2026-02-16: Ticket created from live report: cross-talk when `kd chat` runs concurrently with other agent workflows.
- 2026-02-16: Initial evidence captured: `council-72f2` debug stream session IDs for Cursor differed from current branch `sessions/cursor.json` resume lineage during concurrent activity.
