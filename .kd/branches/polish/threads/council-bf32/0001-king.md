---
from: king
to: all
timestamp: 2026-02-17T03:59:22Z
---

review what happened with removing cursor as a backend. Done. Here's what happened:

  Git strategy used: git checkout 4e7c196^ -- <file> for agent.py, test_agent.py, and test_tui_poll.py
  (safe because no other changes touched those files after the removal commits). Manual edits for
  config.py and targeted fixups.

  Restored:
  - agent.py — all cursor backend code (parsers, builders, stream extractors, dict entries)
  - config.py — "cursor" in VALID_BACKENDS
  - test_agent.py — all cursor backend tests (fixed make_config to handle cursor not being in
  DEFAULT_AGENTS)
  - test_config.py — custom agent test uses backend: "cursor" again
  - test_tui_poll.py — cursor test helpers, thinking tests, real-capture integration tests

  Kept removed (intentional):
  - DEFAULT_AGENTS["cursor"] — cursor not auto-created
  - merge_assistant_snapshots() — simple concat is correct
  - Cursor branching in poll.py — unified concat path
  - Tests that depended on merge semantics — removed or updated to concat assertions
