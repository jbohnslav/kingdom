---
id: "12c6"
status: closed
deps: []
links: []
created: 2026-02-15T18:32:39Z
type: task
priority: 2
---
# Move is_error_response() from cli.py to thread.py so thread_response_status() uses it instead of inline duplicate

## Acceptance Criteria

- [x] `is_error_response()` lives in `thread.py` (not duplicated in `cli.py`)
- [x] `thread_response_status()` in `thread.py` calls `is_error_response()` (no inline duplicate)
- [x] All callers (`cli.py`, `tui/app.py`) import from `thread.py`
- [x] No raw `startswith("*Error:")` checks remain outside `thread.py`
- [x] All tests pass

## Worklog

### Verification (already done)

Investigated the codebase and found this refactor was already completed in a prior branch:

- `is_error_response()` is defined at `src/kingdom/thread.py:338`
- `thread_response_status()` at `thread.py:416` calls `is_error_response()` directly
- `cli.py:1099` imports `is_error_response` from `kingdom.thread`
- `tui/app.py:24` imports `is_error_response` from `kingdom.thread`
- No inline duplicates of the error-detection logic remain anywhere in `src/kingdom/`
- All 861 tests pass
